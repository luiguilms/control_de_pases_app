<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparar Código</title>
    <link rel="stylesheet" href="styles/styles-compare.css">
</head>
<body>
    <div class="header-container">
        <h2>Comparar Código de Oracle</h2>
        <a href="batch-compare.html" class="batch-button">Comparación por Lotes</a>
        <a href="apply-scripts.html" class="batch-button">Aplicar Scripts por Ruta</a>
    </div>
    
    <div class="compare-container">
        <div class="form-group">
            <label for="fileInput">Archivo:</label>
            <input type="file" id="fileInput">
        </div>

        <div class="form-group">
            <label for="schemaInput">Esquema:</label>
            <input type="text" id="schemaInput" placeholder="Ej: USUARIO_X">
        </div>

        <div class="form-group">
            <label for="objectType">Tipo:</label>
            <select id="objectType">
                <option value="PACKAGE">Package</option>
                <option value="FUNCTION">Function</option>
                <option value="PROCEDURE">Procedure</option>
            </select>
        </div>

        <div class="form-group">
            <label for="objectInput">Nombre:</label>
            <input type="text" id="objectInput" placeholder="Ej: MI_PROCEDIMIENTO">
        </div>

        <button id="compareButton">Comparar</button>
        <div id="loader" class="loader"></div>
    </div>
    <div id="modalNotification" class="notification" style="display: none;"></div>
    <div class="info-container">
        <div class="info-message">
            <i class="info-icon">ℹ️</i> Ahora con detección automática de esquema y nombre del objeto al seleccionar un archivo.
        </div>
    </div>

    <div class="result-container">
        <div class="result-header">
            <h3 class="result-title">Resultados de la Comparación</h3>
            <div class="diff-controls">
                <div class="diff-toggle">
                    <input type="checkbox" id="showOnlyDiff" checked>
                    <label for="showOnlyDiff">Solo mostrar diferencias</label>
                </div>
            </div>
        </div>
        
        <div id="notification" class="notification" style="display: none;"></div>
        <div id="result-summary" class="result-summary"></div>

        <div id="date-info" class="date-info"></div>
        
        <div class="side-by-side">
            <div class="code-panel">
                <div class="panel-header">Base de Datos</div>
                <pre id="db-code" class="code-content"></pre>
            </div>
            
            <div class="code-panel">
                <div class="panel-header">Archivo Local</div>
                <pre id="file-code" class="code-content"></pre>
            </div>
        </div>
    </div>

    <script src="compare.js"></script>
</body>
</html>